(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{3791:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/mitra-register",function(){return a(6406)}])},6406:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return p}});var r=a(4051),t=a.n(r),s=a(5893),i=a(7294),l=a(1163),o=a(3299),c=a(8100),u=a(1664);a(7555);function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,r=new Array(n);a<n;a++)r[a]=e[a];return r}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return m(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(){var e="",n="",a=(0,i.useState)([]),r=a[0],t=a[1],l=(0,i.useState)([]),o=l[0],u=l[1],m=(0,i.useState)([]),f=(m[0],m[1]),h=(0,c.ZP)("/api/alamatdb",(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return fetch.apply(void 0,d(n)).then((function(e){return e.json()}))})),g=h.data,x=h.error;if(!g)return(0,s.jsx)("div",{children:"Loading..."});if(x)return(0,s.jsx)("div",{children:"Something went wrong"});var p=g.message;console.log(p);return(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Provinsi"}),(0,s.jsxs)("select",{className:"form-control form-select",id:"inProvinsi",onChange:function(n){if(t([]),u([]),document.getElementById("inKabupaten").value="",document.getElementById("inKecamatan").value="",""!=(e=document.getElementById("inProvinsi").value)){var a=p.provinces.find((function(n){return n.name===e}));console.log(a.id);var r=p.regencies.filter((function(e){return e.province_id===a.id}));t(r)}},children:[(0,s.jsx)("option",{value:"",children:"--- Pilih Provinsi ---"}),p.provinces.map((function(e,n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("option",{value:e.name,children:e.name})})}))]}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:"labels",children:"Kabupaten"}),(0,s.jsxs)("select",{id:"inKabupaten",className:"form-control form-select",onChange:function(e){if(u([]),f([]),document.getElementById("inKecamatan").value="",""!=(n=document.getElementById("inKabupaten").value)){var a=p.regencies.find((function(e){return e.name===n})),r=p.districts.filter((function(e){return e.regency_id===a.id}));u(r)}},children:[(0,s.jsx)("option",{value:"",children:"--- Pilih Kabupaten ---"}),0===r.length?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:r.map((function(e,n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("option",{value:e.name,children:e.name})})}))})]}),(0,s.jsx)("br",{}),(0,s.jsx)("label",{className:"labels",children:"Kecamatan"}),(0,s.jsxs)("select",{id:"inKecamatan",className:"form-control form-select",children:[(0,s.jsx)("option",{value:"",children:"--- Pilih Kecamatan ---"}),0===o.length?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:o.map((function(e,n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("option",{value:e.name,children:e.name})})}))})]}),(0,s.jsx)("br",{})]})}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,r=new Array(n);a<n;a++)r[a]=e[a];return r}function g(e,n,a,r,t,s,i){try{var l=e[s](i),o=l.value}catch(c){return void a(c)}l.done?n(o):Promise.resolve(o).then(r,t)}function x(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return h(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){var e=(0,i.useState)(""),n=e[0],a=e[1],r=(0,i.useState)(""),m=r[0],d=r[1],h=(0,i.useState)(""),p=h[0],j=h[1],v=(0,i.useState)(""),b=v[0],y=v[1],N=(0,i.useState)(""),S=N[0],w=(N[1],(0,i.useState)("")),k=w[0],A=w[1],E=(0,i.useState)(""),I=E[0],P=(E[1],(0,i.useState)("")),B=P[0],C=(P[1],(0,i.useState)("")),O=C[0],K=(C[1],(0,i.useState)([])),T=K[0],_=(K[1],(0,i.useState)([])),F=_[0],q=(_[1],(0,i.useState)("")),R=q[0],z=q[1],L=(0,i.useState)(0),G=L[0],M=(L[1],""),U=(0,i.useState)(""),V=U[0],D=(U[1],(0,i.useState)("")),W=D[0],J=(D[1],""),X=(0,o.useSession)(),Z=X.data,$=(X.status,(0,i.useState)([])),H=$[0],Q=($[1],(0,i.useState)("")),Y=(Q[0],Q[1]),ee=(0,i.useState)(!1),ne=ee[0],ae=(ee[1],""),re="",te="",se=(0,l.useRouter)(),ie="";Z&&(ie="/api/checkmail?emailReq=".concat(Z.user.email));var le=(0,c.ZP)(ie,(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return fetch.apply(void 0,x(n)).then((function(e){return e.json()}))}),{refreshInterval:1e3}),oe=le.data,ce=le.error;if(!oe)return(0,s.jsx)("div",{children:"Loading..."});if(ce)return(0,s.jsx)("div",{children:"Something went wrong"});var ue=oe.message;console.log(ue);var me=function(e){a(e);var n=document.getElementById("namaGedung").value.split(" ").join("").toLowerCase();M=n,z(n)},de=function(){var e,a=(e=t().mark((function e(a){var r,s,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),ae=document.getElementById("inProvinsi").value,re=document.getElementById("inKabupaten").value,te=document.getElementById("inKecamatan").value,J=Z.user.email,Y(""),me(),n&&m&&b&&k&&J){e.next=6;break}return e.abrupt("return",alert("Harap untuk mengisi semua data"));case 6:return r={namaVenue:n,namaPemilikVenue:m,alamat:p,provinsi:ae,kabupaten:re,kecamatan:te,desa:"",noWa:b,instagram:S,kategori:k,hariOperasional:I,jamOperasional:B,fasilitas:O,opsiBayar:T,DP:G,rekening:F,namaAdmin:V,noWaAdmin:W,email:J,fotoVenue:H,urlVenue:M},e.next=9,fetch("/api/mitradb",{method:"POST",body:JSON.stringify(r)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(!(i=e.sent).success){e.next=19;break}return alert("Register sebagai mitra berhasil!"),se.push("/mitra/home"),e.abrupt("return",Y(i.message));case 19:return console.log(i.message),e.abrupt("return",setError(i.message));case 21:case"end":return e.stop()}}),e)})),function(){var n=this,a=arguments;return new Promise((function(r,t){var s=e.apply(n,a);function i(e){g(s,r,t,i,l,"next",e)}function l(e){g(s,r,t,i,l,"throw",e)}i(void 0)}))});return function(e){return a.apply(this,arguments)}}();if(Z){if(0===ue.mitra.length&&0===ue.user.length&&0===ue.mitraPending.length)return(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",onSubmit:de,children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("img",{src:"/y.png",style:{height:"5cm",width:"5cm"}})}),(0,s.jsx)("span",{className:"login100-form-title p-b-12",children:"REGISTER SEBAGAI MITRA"}),(0,s.jsxs)("div",{className:"p-3 py-3",children:[(0,s.jsxs)("div",{className:"row mt-2",children:[(0,s.jsxs)("div",{className:"col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Nama Gedung Lapangan"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",id:"namaGedung",value:n,onChange:function(e){return me(e.target.value)},required:!0})]}),(0,s.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,s.jsx)("label",{className:"labels",children:"Nama Pemilik "}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:m,onChange:function(e){return d(e.target.value)},required:!0})]}),(0,s.jsx)(f,{}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Jalan"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:p,onChange:function(e){return j(e.target.value)},required:!0})]}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"No . WhatsApp Venue"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsxs)("div",{className:"input-group mb-3",children:[(0,s.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"+62"}),(0,s.jsx)("input",{type:"number",className:"form-control",value:b,onChange:function(e){return y(e.target.value)},required:!0})]})]}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"URL Lapangan"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsxs)("div",{className:"input-group mb-3",children:[(0,s.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"infolapangan.com/"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:R,onChange:function(e){return z(e.target.value)},required:!0,readOnly:!0})]})]}),(0,s.jsxs)("div",{className:"form-group mt-2 col-md-12",children:[(0,s.jsx)("label",{htmlFor:"exampleFormControlSelect1",children:"Kategori Olahraga"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsxs)("select",{className:"form-control form-select",onChange:function(e){return A(e.target.value)},required:!0,children:[(0,s.jsx)("option",{children:"--Pilih Olahraga--"}),(0,s.jsx)("option",{value:"Futsal",children:"Futsal"}),(0,s.jsx)("option",{value:"Bulu Tangkis",children:"Bulu Tangkis"}),(0,s.jsx)("option",{value:"Basket",children:"Basket"}),(0,s.jsx)("option",{value:"Tenis",children:"Tenis"})]})]}),(0,s.jsxs)("div",{className:"mt-1 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Username"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:Z.user.name,required:!0,readOnly:!0})]}),(0,s.jsxs)("div",{className:"mt-1 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"E-mail"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:Z.user.email,required:!0,readOnly:!0})]})]}),(0,s.jsx)("div",{className:"container-login100-form-btn my-3",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-outline-secondary",style:{backgroundColor:"#006E61",color:"rgb(255, 255, 255)",borderRadius:"5cm",width:500,height:50},disabled:!1!==ne,children:"DAFTAR"})}),(0,s.jsx)("div",{className:"flex-col-c mt-3",children:(0,s.jsxs)("span",{className:"txt1 p-b-10",children:["Sudah punya akun?",(0,s.jsxs)("a",{href:"./login",className:"txt2",children:["\xa0",(0,s.jsx)("u",{children:"LOGIN"})]})]})})]})]})})})});if(0!=ue.user.length)return(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",children:[(0,s.jsx)("div",{className:"d-flex flex-row justify-content-center",children:(0,s.jsx)("h3",{children:"Email sudah terdaftar sebagai User"})}),(0,s.jsx)("div",{className:"p-3 py-5",children:(0,s.jsx)("div",{className:"flex-c-m",children:(0,s.jsx)(u.default,{href:"/",children:(0,s.jsxs)("a",{className:"btn btn-primary p-3",children:[(0,s.jsx)("i",{className:"fa fa-google"})," \xa0 \xa0 \xa0 Kembali ke Beranda"]})})})})]})})})});if(0!=ue.mitra.length)return(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",children:[(0,s.jsx)("h3",{children:"Email sudah terdaftar sebagai Mitra"}),(0,s.jsx)("div",{className:"p-3 py-5",children:(0,s.jsx)("div",{className:"flex-c-m",children:(0,s.jsx)(u.default,{href:"/mitra/home",children:(0,s.jsxs)("a",{className:"btn btn-primary p-3",children:[(0,s.jsx)("i",{className:"fa fa-google"})," \xa0 \xa0 \xa0 Lanjut ke Beranda Mitra"]})})})})]})})})});if(0!=ue.mitraPending.length)return(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",children:[(0,s.jsx)("h3",{children:"Mohon Tunggu untuk Persetujuan Kami"}),(0,s.jsx)("div",{className:"p-3 py-5",children:(0,s.jsx)("div",{className:"flex-c-m",children:(0,s.jsx)(u.default,{href:"/",children:(0,s.jsxs)("button",{className:"btn btn-primary p-3",onClick:handleSignOut,children:[(0,s.jsx)("i",{className:"fa fa-google"})," \xa0 \xa0 \xa0 Kembali ke Beranda"]})})})})]})})})})}}}},function(e){e.O(0,[100,299,555,774,888,179],(function(){return n=3791,e(e.s=n);var n}));var n=e.O();_N_E=n}]);