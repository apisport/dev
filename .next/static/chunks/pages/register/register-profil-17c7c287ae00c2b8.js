(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{1545:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/register-profil",function(){return r(5416)}])},5416:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return h}});var n=r(4051),l=r.n(n),s=r(5893),i=r(7294),t=r(1163),c=r(3299),o=r(8100),m=r(1664);function d(e,a){(null==a||a>e.length)&&(a=e.length);for(var r=0,n=new Array(a);r<a;r++)n[r]=e[r];return n}function u(e,a,r,n,l,s,i){try{var t=e[s](i),c=t.value}catch(o){return void r(o)}t.done?a(c):Promise.resolve(c).then(n,l)}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"===typeof e)return d(e,a);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(){var e=(0,i.useState)(""),a=e[0],r=e[1],n=(0,i.useState)(""),d=n[0],h=n[1],x=(0,i.useState)(""),g=x[0],j=x[1],p=(0,i.useState)(""),v=p[0],b=p[1],N=(0,i.useState)(!0),y=N[0],k=(N[1],(0,i.useState)("")),S=k[0],w=k[1],A=(0,i.useState)([]),E=A[0],I=A[1],P=(0,i.useState)(""),C=P[0],_=P[1],O=(0,c.useSession)(),F=O.data,T=(O.status,"");F&&(T="/api/checkmail?emailReq=".concat(F.user.email));var q=(0,o.ZP)(T,(function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return fetch.apply(void 0,f(a)).then((function(e){return e.json()}))})),M=q.data,R=q.error;if(!M)return(0,s.jsx)("div",{children:"Access denied"});if(R)return(0,s.jsx)("div",{children:"Something went wrong"});var z=M.message;console.log(z);var K=(0,t.useRouter)(),L=function(){var e,r=(e=l().mark((function e(r){var n,s,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),b(F.user.email),a&&d&&g&&v&&E){e.next=5;break}return alert("Harap untuk mengisi semua data"),e.abrupt("return",setError("All fields are required"));case 5:if(!y){e.next=23;break}return n={nama:a,jenisKelamin:d,noWa:g,email:v,tim:E},e.next=9,fetch("/api/userdb",{method:"POST",body:JSON.stringify(n)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(!(i=e.sent).success){e.next=19;break}return alert("Simpan profil berhasil"),K.push("/"),e.abrupt("return",_(i.message));case 19:return console.log(i.message),e.abrupt("return",setError(i.message));case 21:e.next=24;break;case 23:alert("Email sudah terdaftar, Mohon gunakan yang lain");case 24:case"end":return e.stop()}}),e)})),function(){var a=this,r=arguments;return new Promise((function(n,l){var s=e.apply(a,r);function i(e){u(s,n,l,i,t,"next",e)}function t(e){u(s,n,l,i,t,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return F?0!=z.user.length?(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",children:[(0,s.jsx)("div",{className:"d-flex flex-row justify-content-center",children:(0,s.jsx)("h3",{children:"Email sudah terdaftar"})}),(0,s.jsx)("div",{className:"p-3 py-5",children:(0,s.jsx)("div",{className:"flex-c-m",children:(0,s.jsx)(m.default,{href:"/",children:(0,s.jsxs)("a",{className:"btn btn-primary p-3",children:[(0,s.jsx)("i",{className:"fa fa-google"})," \xa0 \xa0 \xa0 Kembali ke Beranda"]})})})})]})})})}):0!=z.mitra.length?(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",children:[(0,s.jsx)("h3",{children:"Email sudah terdaftar sebagai Mitra"}),(0,s.jsx)("div",{className:"p-3 py-5",children:(0,s.jsx)("div",{className:"flex-c-m",children:(0,s.jsx)(m.default,{href:"/mitra/home",children:(0,s.jsxs)("a",{className:"btn btn-primary p-3",children:[(0,s.jsx)("i",{className:"fa fa-google"})," \xa0 \xa0 \xa0 Lanjut ke Beranda Mitra"]})})})})]})})})}):0!=z.mitraPending.length?(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",children:[(0,s.jsx)("h3",{children:"Mohon Tunggu untuk Persetujuan Kami"}),(0,s.jsx)("div",{className:"p-3 py-5",children:(0,s.jsx)("div",{className:"flex-c-m",children:(0,s.jsx)(m.default,{href:"/",children:(0,s.jsxs)("button",{className:"btn btn-primary p-3",onClick:function(e){signOut({callbackUrl:"/"})},children:[(0,s.jsx)("i",{className:"fa fa-google"})," \xa0 \xa0 \xa0 Kembali ke Beranda"]})})})})]})})})}):(0,s.jsx)("div",{className:"limiter",children:(0,s.jsx)("div",{className:"container-login100",style:{backgroundImage:'url("/bg-01.jpg")'},children:(0,s.jsx)("div",{className:"wrap-login100 p-3",children:(0,s.jsxs)("form",{className:"login100-form validate-form",onSubmit:L,children:[R?(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:R})}):null,C?(0,s.jsx)("div",{children:(0,s.jsx)("h3",{children:C})}):null,(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("img",{className:"img-fluid d-blok p-5",src:"/y.png"})}),(0,s.jsx)("span",{className:"login100-form-title p-b-12",children:"ISI DAFTAR DIRI"}),(0,s.jsxs)("div",{className:"p-3 py-2",children:[(0,s.jsxs)("div",{className:"row mt-2",children:[(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Nama Lengkap"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",required:!0,id:"nama",value:a,onChange:function(e){return r(e.target.value)}})]}),(0,s.jsxs)("div",{className:"mt-2 form-radio col-md-12",children:[(0,s.jsx)("label",{htmlFor:"gender",className:"radio-label",children:"Jenis Kelamin"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsxs)("div",{className:"form-radio-item",children:[(0,s.jsx)("input",{type:"radio",name:"gender",id:"male",value:"Laki-laki",onChange:function(e){return h(e.target.value)}}),(0,s.jsx)("label",{htmlFor:"male",children:"\xa0Laki-laki"}),(0,s.jsx)("span",{className:"check ml-5"}),(0,s.jsx)("input",{type:"radio",name:"gender",id:"male",value:"Perempuan",onChange:function(e){return h(e.target.value)}}),(0,s.jsx)("label",{htmlFor:"female",children:"\xa0Perempuan"}),(0,s.jsx)("span",{className:"check"})]})]}),(0,s.jsx)("div",{className:"mt-2 col-md-12",children:(0,s.jsx)("label",{className:"labels",children:"Nama Tim"})}),(0,s.jsx)("div",{className:"btn-group col-md-12",children:(0,s.jsx)("input",{type:"text",className:"form-control col-12 mt-2 col-md-12",id:"tim",name:"tim",value:S,onChange:function(e){return w(e.target.value)}})}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"No . WhatsApp"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"number",className:"form-control",required:!0,name:"noWa",onChange:function(e){return j(e.target.value)},value:g})]}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Email"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",required:!0,name:"email",id:"email",onChange:function(e){return b(e.target.value)},value:F.user.email,readOnly:!0})]}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",children:"Username"}),(0,s.jsx)("i",{style:{color:"#ff0000",fontSize:"larger"},children:"*"}),(0,s.jsx)("input",{type:"text",className:"form-control",required:!0,name:"email",id:"email",value:F.user.name,readOnly:!0})]}),(0,s.jsxs)("div",{className:"mt-2 col-md-12",children:[(0,s.jsx)("label",{className:"labels",htmlFor:"formFile",children:"Foto Profil"}),(0,s.jsx)("img",{className:"img-fluid d-block rounded-circle",id:"image",src:F.user.image})]}),(0,s.jsx)("div",{className:"mt-2 d-flex flex-row justify-content-center"})]}),(0,s.jsx)("div",{class:"row mt-3 container-login100-form-btn my-3",children:(0,s.jsx)("button",{type:"submit",onClick:function(){b(F.user.email),I((function(e){return f(e).concat([S])})),w(""),console.log(E)},className:"btn btn-outline-secondary",style:{backgroundColor:"#006E61",color:"rgb(255, 255, 255)",borderRadius:"5cm",width:500,height:50},children:"SIMPAN PROFIL"})})]})]})})})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("h3",{children:"Email sudah terdaftar"})})}}},function(e){e.O(0,[100,299,774,888,179],(function(){return a=1545,e(e.s=a);var a}));var a=e.O();_N_E=a}]);